<div class='modal-cover' id='rate-order' ng-show='isRatingFood' ng-controller='RateFoodCtrl' ng-click='close()' ng-keydown='closeOnEsc($event)'>
  <div class='modal-container'>
    <div class='modal' prevent-click-delegation>

      <div class='header'>
        <span class='close' ng-click='close()'></span>
        <span class='title'>Rate your Experience</span>
      </div>

      <div class='content with-food' ng-if='order'>

        <div class='overlay with-background' ng-style="{ 'background-image': 'url({{food.header_image_url}})' }">
          <div class='sheet'></div>
          <img class='avatar' ng-style="{ 'background-image': 'url({{seller.logo_url}})' }" />
          <div class='person'>
            <h3 class='name'>{{food.title}}</h3>
            <h5 class='email'>By {{seller.name}}</h5>
          </div>
        </div>

        <div class='body'>
          <div class="info error" ng-if='error'><i class="fa fa-info-circle"></i>{{error}}</div>
          <form ng-submit='rate()'>

            <div class='description'>
              <p><strong>{{courier.user.name}}</strong> delivered a <strong>quantity of {{order.quantity}}</strong></p>
              <p>For a total of <strong>(including tip)</strong>:</p>
            </div>

            <div class='total'>
              <span class='tip' ng-click='decrementTip()' ng-disabled='tip < 1'><i class="fa fa-minus-circle"></i></span>
              <h2 class='price'>{{order.cost() + tip | currency}}</h2>
              <span class='tip' ng-click='incrementTip()'><i class='fa fa-plus-circle'></i></span>
            </div>

            <p>Rate your experience:</p>
            <rating score='order.rating' max='5' ng-click='enableDone()'></rating>

            <button ng-disabled='!rated' ng-if='!rating'>Done</button>
            <fading-circle-spinner ng-if='rating'></fading-circle-spinner>

          </form>
        </div>

      </div>
    </div>
  </div>
</div>
